syntax = "proto3";

package trust.v1;

service TrustService {
  // Tagging operations
  rpc AddTagging(AddTaggingRequest) returns (AddTaggingResponse);
  rpc RemoveTagging(RemoveTaggingRequest) returns (RemoveTaggingResponse);
  rpc ListTargetTags(ListTargetTagsRequest) returns (ListTargetTagsResponse);

  // Suggestions
  rpc ListMyTagNames(ListMyTagNamesRequest) returns (ListMyTagNamesResponse);
}

// --- Tagging operations ---

message TaggingItem {
  string id = 1;
  string tag_name = 2;
  string tagger_id = 3;
  string created_at = 4;
}

message AddTaggingRequest {
  string tag_name = 1;
  string target_id = 2;
}

message AddTaggingResponse {
  bool success = 1;
}

message RemoveTaggingRequest {
  string id = 1;
}

message RemoveTaggingResponse {
  bool success = 1;
}

message ListTargetTagsRequest {
  string target_id = 1;
}

message ListTargetTagsResponse {
  repeated TaggingItem taggings = 1;
}

// --- Suggestions ---

message ListMyTagNamesRequest {}

message ListMyTagNamesResponse {
  repeated string tag_names = 1;
}
