## Context

キャストのプロフィール画像（アバター）は、タイムライン投稿のキャスト情報、検索結果、プロフィール詳細ページなど多くの場所で表示される。現在は `image_path`（ポートフォリオの最初の画像）を流用しているが、動画の場合に表示されず、アスペクト比の問題もある。

## Goals / Non-Goals

- Goals:
  - 専用のアバターフィールドで常に適切な画像を表示
  - 正方形クロップで丸枠内での歪みを防止
  - 画像のみ受付（動画不可）
- Non-Goals:
  - サーバーサイド画像リサイズ（将来対応）
  - 複数サイズのアバター生成（thumbnail等）

## Decisions

- **Decision**: `avatar_path` を `casts` テーブルに追加し、`image_path` とは独立管理する
  - Alternatives: `image_path` の用途をアバター専用に変更 → 既存データの互換性が崩れるため不採用

- **Decision**: クロップはフロントエンド（クライアントサイド）で実施
  - Alternatives: サーバーサイドで ImageMagick 等を使用 → 現時点ではインフラ複雑度を増やしたくない

- **Decision**: アバター未設定時のフォールバック順序
  1. `avatar_path` → 2. `image_path` → 3. ポートフォリオ画像の最初の画像ファイル → 4. デフォルトアバター

## Risks / Trade-offs

- クライアントサイドクロップはブラウザ依存 → Canvas API は広くサポートされているため問題なし
- 画像サイズが大きいままアップロードされる可能性 → 将来的にサーバーサイドリサイズで対応

## Open Questions

- クロップ UI ライブラリの選定（react-image-crop 等）
