# Proposal: Add Cast Guest Detail

## Summary

キャストがゲストの詳細情報を確認できるページを追加する。フォロワー一覧やいいね/コメントからゲストをタップすることで、ゲストのプロフィール情報を閲覧できる。

## Motivation

現在、キャストはフォロワー一覧でゲストの名前とアバターを確認できるが、詳細情報を見る手段がない。また、タイムラインのいいねやコメントを行ったゲストについても同様に詳細を確認できない。

ゲストの詳細ページを提供することで、キャストは以下が可能になる:
- ゲストの自己紹介（tagline, bio）を確認
- いつからフォローしているかを把握
- 必要に応じてブロックを実行
- 将来的にはゲストへの個人メモを追加（Trust ドメイン）

## Scope

### In Scope

- キャスト向けゲスト詳細ページ (`/cast/guests/[id]`) の追加
- フォロワー一覧からゲスト詳細ページへの導線
- いいね/コメント一覧からゲスト詳細ページへの導線
- ゲスト詳細ページからのブロック機能
- 他キャストがゲストの詳細を確認するための API（GetGuestProfileById）

### Out of Scope

- ゲストへの個人メモ機能（`add-cast-guest-notes` として別途実装予定）
- DM 機能（Concierge ドメインで別途実装予定）
- 予約一覧からのアクセス（Ritual ドメインで別途実装予定）

## Technical Approach

### Frontend

- `/cast/guests/[id]` ページを新規作成
- 既存のフォロワー一覧（`/cast/followers`）にリンクを追加
- いいね/コメント一覧にゲスト詳細へのリンクを追加
- `useGuestDetail` フックを作成してゲスト詳細データを取得

### Backend

- `GuestService` に `GetGuestProfileById` RPC を追加
  - キャストが他のゲストのプロフィールを取得するための API
  - 認可: キャスト（または認可されたユーザー）のみがアクセス可能

### API Route

- `GET /api/cast/guests/[id]` - ゲスト詳細取得

## Dependencies

- Portfolio ドメインの既存の `GuestService` を拡張
- 既存のフォロワー一覧ページを修正
- 既存のいいね/コメント UI を修正

## Risks and Mitigations

| Risk | Impact | Mitigation |
|------|--------|------------|
| ゲストのプライバシー | 中 | ゲストがフォローしているキャストのみ詳細を閲覧可能にする |
| API 認可の不備 | 高 | キャストロールの認証を必須とし、テストで検証 |

## Success Criteria

- キャストがフォロワー一覧からゲスト詳細ページに遷移できる
- キャストがいいね/コメント一覧からゲスト詳細ページに遷移できる
- ゲスト詳細ページで名前、アバター、タグライン、自己紹介、フォロー日が表示される
- ゲスト詳細ページからブロックを実行できる
