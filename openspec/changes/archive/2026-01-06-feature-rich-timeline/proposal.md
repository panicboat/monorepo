# Feature Proposal: Rich Timeline & Media

## 概要
キャストの投稿（タイムライン）機能を強化し、よりリッチなメディア体験を提供します。
特に、一覧画面でのGIFアニメーション表示と、詳細（またはモーダル）での動画再生をサポートし、キャストの魅力をよりダイナミックに伝えます。
また、プロフィール画面の埋め込み表示だけでなく、過去の投稿を全て閲覧できる専用のタイムラインページを新設します。

## 動機・背景
- **視覚的訴求力の向上**: 静止画だけでなく、動きのあるGIFや動画をサポートすることで、キャストの雰囲気や「今」の様子をよりリアルに伝えたい。
- **回遊性の向上**: プロフィール画面の一部としてではなく、コンテンツとしてタイムラインを楽しめるようにし、ユーザーの滞在時間を延ばしたい。
- **既存仕様の限界**: 現在の `CastPosts` は簡易的なリスト表示のみで、メディア再生やページネーション（全件表示）に対応していない。

## 仕様の範囲 (Scope)

### 1. メディア表示の拡張
- **GIFサポート**: タイムライン一覧（カード）内で、GIF画像を自動再生（またはループ再生）状態で表示する。
- **動画サポート**: 動画（MP4等）の場合、サムネイルに「再生ボタン」をオーバーレイ表示し、タップで再生を開始する。

### 2. メディア再生モーダル (Media Viewer)
- 投稿内のメディア（画像、GIF、動画）をタップした際に、全画面に近いモーダルで詳細を表示する。
- 動画の場合は、このモーダル内でプレイヤコンポーネントを起動し再生を行う。

### 3. メディアフィルタリング & レイアウト切替
- **フィルタ**: 「すべて」「画像」「動画」のタブでタイムラインを絞り込み可能にする。
- **レイアウト**:
    - **フィード表示 (List)**: テキストとメディアを大きく表示（標準）。
    - **グリッド表示 (Gallery)**: メディアのみをタイル状に並べて一覧性を重視。

### 4. "View All" タイムラインページ
- **ルート**: `/timeline/[cast_id]`
- **機能**: 対象キャストの過去の投稿を無限スクロール（またはページネーション）で閲覧できる専用ページ。
- **導線**: プロフィール画面の「View All Posts」ボタンから遷移。

## 変更されるコンポーネント
- `apps/shell/src/modules/portfolio/components/detail/CastPosts.tsx` (改修)
- `apps/shell/src/app/timeline/[id]/page.tsx` (新規作成)
- `apps/shell/src/modules/common/components/MediaModal.tsx` (新規作成・共通化)

## 関連ドキュメント
- [Reference UI](https://hime-channel.com/profile/joyq-n) (GIF Preview)
- [Reference UI](https://hime-channel.com/timeline/joyq-n) (Timeline Page)
