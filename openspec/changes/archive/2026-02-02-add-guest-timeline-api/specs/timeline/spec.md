## ADDED Requirements

### Requirement: Guest Timeline View
ゲストは全キャストの公開タイムライン投稿を閲覧できなければならない (MUST)。投稿は作成日時の降順で表示される。

#### Scenario: ゲストがタイムラインを表示する
- **GIVEN** 私はログイン済みのゲストである
- **WHEN** 私がホーム画面のタイムラインタブを表示する
- **THEN** 全キャストの公開投稿が新しい順に表示される
- **AND** 各投稿にはキャストの名前とアバターが表示される
- **AND** 非公開投稿は表示されない

#### Scenario: タイムラインの無限スクロール
- **GIVEN** 私はタイムラインを表示している
- **AND** 20件以上の投稿がある
- **WHEN** 私が画面下部までスクロールする
- **THEN** 追加の投稿が自動的に読み込まれる

#### Scenario: タイムラインのフィルタリング
- **GIVEN** 私はタイムラインを表示している
- **WHEN** 私が「Following」タブを選択する
- **THEN** フォロー中のキャストの投稿のみが表示される
- **WHEN** 私が「Favorites」タブを選択する
- **THEN** お気に入り登録したキャストの投稿のみが表示される

### Requirement: Guest Timeline API
ゲスト向けタイムライン API は公開投稿を提供しなければならない (MUST)。

#### Scenario: 公開投稿一覧の取得
- **GIVEN** 認証済みのゲストユーザー
- **WHEN** GET `/api/guest/timeline?limit=20` を呼び出す
- **THEN** 全キャストの公開投稿が最新20件返される
- **AND** `next_cursor` と `has_more` が返される
- **AND** 非公開投稿は含まれない

#### Scenario: キャスト別投稿一覧の取得
- **GIVEN** 認証済みのゲストユーザー
- **WHEN** GET `/api/guest/timeline?cast_id={castId}&limit=20` を呼び出す
- **THEN** 指定したキャストの公開投稿のみが返される

#### Scenario: 投稿詳細の取得
- **GIVEN** 認証済みのゲストユーザー
- **WHEN** GET `/api/guest/timeline/{postId}` を呼び出す
- **THEN** 指定した投稿の詳細が返される
- **AND** 非公開投稿の場合は 404 が返される

### Requirement: Cast Profile Timeline Tab
ゲストはキャスト詳細ページでそのキャストの投稿一覧を閲覧できなければならない (MUST)。

#### Scenario: キャスト詳細ページでタイムラインを表示する
- **GIVEN** 私はキャスト詳細ページを表示している
- **WHEN** 私が「タイムライン」タブを選択する
- **THEN** そのキャストの公開投稿のみが表示される

#### Scenario: メディアのみ表示
- **GIVEN** 私はキャスト詳細ページのタイムラインタブを表示している
- **WHEN** 私が「Media」フィルタを選択する
- **THEN** メディアが添付された投稿のみがグリッド形式で表示される

### Requirement: Post Detail Page
ゲストは投稿詳細ページで投稿の全情報を閲覧できなければならない (MUST)。

#### Scenario: 投稿詳細ページを表示する
- **GIVEN** 私はタイムライン上の投稿をタップした
- **WHEN** 投稿詳細ページが表示される
- **THEN** 投稿のテキスト、メディア、ハッシュタグが表示される
- **AND** 投稿者のキャスト情報が表示される
- **AND** 動画の場合は再生コントロール付きで表示される

#### Scenario: 投稿からキャスト詳細へ遷移
- **GIVEN** 私は投稿詳細ページを表示している
- **WHEN** 私がキャストの名前またはアバターをタップする
- **THEN** そのキャストの詳細ページに遷移する
