environments:
  - environment: develop
    aws_region: ap-northeast-1
    iam_role_plan: arn:aws:iam::559744160976:role/github-oidc-auth-develop-github-actions-role
    iam_role_apply: arn:aws:iam::559744160976:role/github-oidc-auth-develop-github-actions-role

  # - environment: staging
  #   aws_region: ap-northeast-1
  #   iam_role_plan: arn:aws:iam::123456789012:role/terragrunt-plan-staging-role
  #   iam_role_apply: arn:aws:iam::123456789012:role/terragrunt-apply-staging-role

  # - environment: production
  #   aws_region: ap-northeast-1
  #   iam_role_plan: arn:aws:iam::123456789012:role/terragrunt-plan-production-role
  #   iam_role_apply: arn:aws:iam::123456789012:role/terragrunt-apply-production-role

directory_conventions:
  - root: services/{service}
    stacks:
      - name: docker
        directory: src
      - name: terragrunt
        directory: terragrunt/envs/{environment}
      - name: kubernetes
        directory: kubernetes/overlays/{environment}

      - name: docker
        directory: apps/shell/src # Or just apps/shell if Dockerfile is there, but User said 'src' in previous edit. Assuming apps/shell is the context.
        # Actually user said "Currently src, but I want better name".
        # Let's set it to apps/shell/src relative to web/frontend matches web/{service}
        # {service} = frontend.
        # root = web/frontend

  - root: web/{service}
    stacks:
      - name: docker
        directory: apps/shell
      - name: terragrunt
        directory: terragrunt/envs/{environment}
      - name: kubernetes
        directory: kubernetes/overlays/{environment}
