{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:base",
    ":semanticCommits"
  ],
  "semanticCommitScope": "{{packageFileDir}}",
  "timezone": "Asia/Tokyo",
  "labels": [
    "ü§ñ renovate"
  ],
  "assigneesFromCodeOwners": false,
  "reviewersFromCodeOwners": true,
  "automergeType": "pr",
  "automergeStrategy": "squash",
  "platformAutomerge": true,
  "prConcurrentLimit": 15,
  "prHourlyLimit": 5,
  "branchPrefix": "renovate/",
  "schedule": [
    "before 4am every weekday"
  ],
  "minimumReleaseAge": "1 day",
  "packageRules": [
    {
      "description": "Base rule - packageFileDir and depName separation",
      "matchPaths": [
        "**"
      ],
      "automerge": true,
      "groupName": "{{packageFileDir}} {{depName}}",
      "addLabels": [
        "automerge"
      ]
    },
    {
      "description": "Group Buf and ConnectRPC dependencies",
      "matchPackagePatterns": [
        "^@bufbuild/",
        "^@connectrpc/",
        "^buf"
      ],
      "groupName": "Buf and ConnectRPC",
      "automerge": true,
      "addLabels": [
        "automerge"
      ]
    },
    {
      "description": "üö´ Production environments - disable automerge",
      "matchPaths": [
        "**/production/**"
      ],
      "automerge": false,
      "prPriority": -1,
      "addLabels": [
        "‚ö†Ô∏è production"
      ]
    },
    {
      "description": "üö´ Major updates - disable automerge",
      "matchUpdateTypes": [
        "major"
      ],
      "automerge": false,
      "addLabels": [
        "üìà major-update"
      ]
    }
  ]
}
