<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PrivateHeaven Demo</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* é•·æŠ¼ã—ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”¨ã®è¨­å®š */
    .progress-ring__circle {
      transition: stroke-dashoffset 0.1s linear;
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
    }

    /* å°è‹ã®å‡ºç¾ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    @keyframes stamp {
      0% {
        transform: scale(1.5);
        opacity: 0;
      }

      50% {
        transform: scale(0.9);
        opacity: 1;
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .stamp-animation {
      animation: stamp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    /* èƒŒæ™¯ã®ãã‚‰ã‚ã */
    @keyframes shimmer {
      0% {
        background-position: -200% center;
      }

      100% {
        background-position: 200% center;
      }
    }

    .shimmer-bg {
      background: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0) 100%);
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
    }
  </style>
</head>

<body class="bg-black text-slate-200 min-h-screen flex flex-col items-center justify-center p-4 font-sans select-none">

  <div class="w-full max-w-md space-y-6">

    <div class="flex gap-3">
      <div class="w-10 h-10 rounded-full bg-slate-700 flex-shrink-0 overflow-hidden border border-slate-600">
        <img src="https://ui-avatars.com/api/?name=Mirei&background=random" alt="icon"
          class="w-full h-full object-cover">
      </div>
      <div class="space-y-3 w-full">
        <div class="bg-slate-800 p-3 rounded-r-2xl rounded-bl-2xl text-sm w-fit">
          æ¥½ã—ã¿ã«ã—ã¦ã‚‹ã­ï¼<br>
          æ‹›å¾…çŠ¶ã‚’é€ã‚‹ã‹ã‚‰ã€ç¢ºèªã—ã¦ã­ğŸ’•
        </div>

        <div id="invitation-area">
          <div onclick="openModal()"
            class="relative cursor-pointer group transform transition hover:scale-[1.02] active:scale-95 duration-200">
            <div
              class="absolute -inset-0.5 bg-gradient-to-r from-yellow-700 via-yellow-500 to-yellow-700 rounded-xl opacity-40 group-hover:opacity-70 blur-sm transition duration-500">
            </div>

            <div class="relative bg-slate-900 border border-yellow-800/50 rounded-xl p-5 overflow-hidden">
              <div class="absolute inset-0 shimmer-bg pointer-events-none"></div>

              <div class="flex justify-between items-start mb-3">
                <div>
                  <p class="text-yellow-600 text-[10px] tracking-[0.2em] uppercase font-bold">Private Invitation</p>
                  <h3 class="text-white text-lg font-serif">ç¾ç² æ§˜ã‹ã‚‰ã®æ‹›å¾…çŠ¶</h3>
                </div>
                <svg class="text-yellow-500 w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                  stroke-width="2">
                  <path d="M6 3h12l4 6-10 13L2 9z"></path>
                </svg>
              </div>

              <div class="space-y-2 mb-4 border-l-2 border-yellow-800 pl-3">
                <div class="flex items-center text-slate-300 text-sm">
                  <span class="text-yellow-600 mr-2">ğŸ•’</span>
                  <span>12æœˆ10æ—¥ (åœŸ) 19:00 - 21:00</span>
                </div>
                <div class="flex items-center text-slate-300 text-sm">
                  <span class="text-yellow-600 mr-2">ğŸ“</span>
                  <span>Club VENUS (æ­Œèˆä¼ç”º)</span>
                </div>
              </div>

              <div class="flex justify-between items-center pt-2 border-t border-slate-800">
                <span class="text-xs text-slate-500">ãŠäºŒäººã ã‘ã®ç‰¹åˆ¥ãªæ™‚é–“</span>
                <span class="text-yellow-400 text-xs font-bold flex items-center">
                  ã‚¿ãƒƒãƒ—ã—ã¦é–‹å° &rarr;
                </span>
              </div>
            </div>
          </div>
        </div>

        <div id="sealed-badge" class="hidden">
          <div
            class="stamp-animation bg-gradient-to-br from-red-900 to-red-950 text-red-100 px-5 py-4 rounded-lg shadow-lg border border-red-800 flex items-center gap-4 relative overflow-hidden">
            <div
              class="w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center text-red-900 shadow-inner">
              <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
            </div>
            <div>
              <h3 class="text-lg font-serif font-bold text-yellow-500 tracking-wider"
                style="text-shadow: 0 2px 4px rgba(0,0,0,0.5);">PROMISED</h3>
              <p class="text-xs text-red-300 opacity-80">ç´„æŸã¯ç¢ºå®šã•ã‚Œã¾ã—ãŸ</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div id="modal"
    class="fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden opacity-0 transition-opacity duration-300">
    <div
      class="bg-slate-950 border border-yellow-900 w-full max-w-sm rounded-2xl p-6 relative shadow-2xl scale-95 transition-transform duration-300"
      id="modal-content">

      <button onclick="closeModal()" class="absolute top-4 right-4 text-slate-600 hover:text-white">âœ•</button>

      <div class="text-center mb-8 mt-2">
        <div class="inline-block p-3 rounded-full bg-slate-900 border border-yellow-900 mb-4">
          <svg class="text-yellow-500 w-8 h-8" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M6 3h12l4 6-10 13L2 9z"></path>
          </svg>
        </div>
        <h2 class="text-2xl text-white font-serif mb-2 tracking-wide">The Promise</h2>
        <p class="text-slate-400 text-xs leading-relaxed">
          ã“ã®ãƒœã‚¿ãƒ³ã‚’é•·æŠ¼ã—ã™ã‚‹ã“ã¨ã§<br>ç¾ç² æ§˜ã¨ã®ç´„æŸãŒç¢ºå®šã—ã¾ã™ã€‚
        </p>
      </div>

      <div class="flex flex-col items-center gap-6">
        <div class="relative w-28 h-28">
          <div class="absolute inset-0 rounded-full border-4 border-slate-800 bg-slate-900"></div>

          <svg class="absolute inset-0 w-full h-full transform -rotate-90 pointer-events-none">
            <circle class="progress-ring__circle" stroke="#eab308" stroke-width="4" fill="transparent" r="52" cx="56"
              cy="56" stroke-dasharray="326" stroke-dashoffset="326" id="progress-ring" />
          </svg>

          <div
            class="absolute inset-0 flex items-center justify-center pointer-events-none transition-colors duration-300"
            id="fingerprint-icon">
            <svg class="w-10 h-10 text-slate-600" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="1.5">
              <path
                d="M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10v6c0 2.66-2 5-5 5-2.66 0-5-2-5-5v-6c0-2.66-2-5-5-5-2.66 0-5 2-5 5v2">
              </path>
              <path d="M12 7v5"></path>
            </svg>
          </div>

          <button class="absolute inset-0 w-full h-full rounded-full cursor-pointer z-10" onmousedown="startPress()"
            onmouseup="endPress()" onmouseleave="endPress()" ontouchstart="startPress()" ontouchend="endPress()"
            style="-webkit-tap-highlight-color: transparent;"></button>
        </div>

        <p class="text-slate-500 text-[10px] tracking-widest animate-pulse" id="hint-text">
          é•·æŠ¼ã—ã—ã¦èª“ç´„
        </p>
      </div>
    </div>
  </div>

  <script>
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modal-content');
    const progressRing = document.getElementById('progress-ring');
    const fingerprintIcon = document.getElementById('fingerprint-icon');
    const invitationArea = document.getElementById('invitation-area');
    const sealedBadge = document.getElementById('sealed-badge');

    let pressTimer = null;
    let progress = 326; // å††å‘¨ã®é•·ã•
    const circumference = 326;
    const pressDuration = 1500; // 1.5ç§’ã§å®Œäº†
    const step = 10; // æ›´æ–°é–“éš”

    function openModal() {
      modal.classList.remove('hidden');
      // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³å‡¦ç†
      setTimeout(() => {
        modal.classList.remove('opacity-0');
        modalContent.classList.remove('scale-95');
      }, 10);
    }

    function closeModal() {
      modal.classList.add('opacity-0');
      modalContent.classList.add('scale-95');
      setTimeout(() => {
        modal.classList.add('hidden');
      }, 300);
      resetProgress();
    }

    function startPress() {
      // è‰²ã‚’å¤‰ãˆã‚‹
      fingerprintIcon.innerHTML = '<svg class="w-10 h-10 text-yellow-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10v6c0 2.66-2 5-5 5-2.66 0-5-2-5-5v-6c0-2.66-2-5-5-5-2.66 0-5 2-5 5v2"></path><path d="M12 7v5"></path></svg>';

      let startTime = Date.now();

      clearInterval(pressTimer);
      pressTimer = setInterval(() => {
        const elapsed = Date.now() - startTime;
        const percentage = Math.min(elapsed / pressDuration, 1);
        const offset = circumference - (percentage * circumference);

        progressRing.style.strokeDashoffset = offset;

        if (percentage >= 1) {
          completePromise();
        }
      }, step);
    }

    function endPress() {
      clearInterval(pressTimer);
      resetProgress();
    }

    function resetProgress() {
      progressRing.style.strokeDashoffset = circumference;
      // ã‚¢ã‚¤ã‚³ãƒ³è‰²æˆ»ã™
      fingerprintIcon.innerHTML = '<svg class="w-10 h-10 text-slate-600" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10v6c0 2.66-2 5-5 5-2.66 0-5-2-5-5v-6c0-2.66-2-5-5-5-2.66 0-5 2-5 5v2"></path><path d="M12 7v5"></path></svg>';
    }

    function completePromise() {
      clearInterval(pressTimer);

      // æŒ¯å‹•ï¼ˆã‚¹ãƒãƒ›ã®ã¿ï¼‰
      if (navigator.vibrate) navigator.vibrate([50, 50, 50]);

      // ãƒ¢ãƒ¼ãƒ€ãƒ«é–‰ã˜ã¦å®Œäº†çŠ¶æ…‹ã¸
      closeModal();

      // å°‘ã—å¾…ã£ã¦ã‹ã‚‰è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
      setTimeout(() => {
        invitationArea.style.display = 'none';
        sealedBadge.classList.remove('hidden');
      }, 300);
    }
  </script>
</body>

</html>
